<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
  <link rel="stylesheet" href="css/checkout.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=League+Gothic&display=swap" rel="stylesheet">
  <title>RockWear SHIRTS </title>
</head>

<body>

  <header>
    <div class="menu">
      <a href="index.html"><img id="imghd" src="imgs/logox.png" alt=""></a>
      <div class="menu2">
        <div class="menuhd">
          <div class="icons">
            <div class="cart-icon-container">
              <a href="#" onclick="toggleCart(); return false;">
                <img id="imgshd" src="imgs/iconcarrinho.png" alt="">
              </a>
              <span class="cart-count" id="cartCount">0</span>

              <div class="cart-dropdown" id="cartDropdown">
                <div class="cart-header">
                  <h3><i class="bi bi-bag-fill"></i> Seu Carrinho</h3>
                </div>

                <div class="cart-items" id="cartItems">
                  <div class="empty-cart">
                    <i class="bi bi-bag"></i>
                    <p>Seu carrinho está vazio</p>
                    <small>Adicione alguns produtos incríveis!</small>
                  </div>
                </div>

                <div class="cart-footer" id="cartFooter" style="display: none;">
                  <div class="cart-total">
                    <span>Total:</span>
                    <span id="cartTotal">R$ 0,00</span>
                  </div>
                  <button class="checkout-btn" onclick="checkout()">
                    <i class="bi bi-credit-card"></i> Finalizar Compra
                  </button>
                </div>
              </div>
            </div>

            <a href="usuario.html"><img id="imgshd" src="imgs/iconeperson.png" alt=""></a>
          </div>
        </div>
        <hr>
        </hr>
        <div class="menuhd2">
          <div class="cat">
            <details>
              <summary>CATEGORIAS</summary>
              <div class="dropdown">
                <a href="classic.html">Classic Rock</a>
                <hr id="linha">
                </hr>
                <a href="hard.html">Hard Rock</a>
                <hr id="linha">
                </hr>
                <a href="heavymetal.html">Heavy Metal</a>
                <hr id="linha">
                </hr>
                <a href="punk.html">Punk</a>
                <hr id="linha">
                </hr>
                <a href="grunge.html">Grunge</a>
                <hr id="linha">
                </hr>
              </div>
            </details>
          </div>
          <div>
            <form action="/buscar" method="get">
              <input type="text" id="pesquisar" name="q" placeholder="Procure sua banda favorita">
            </form>
          </div>
          <div class="sizes">
            <a href="plussize.html">+PLUS SIZE</a>
            <a href="infantil.html">INFANTIL</a>
          </div>
        </div>
      </div>
    </div>

    <!-- MOBILE -->
    <div class="mobile">
      <div class="mobilemenu">
        <a href="index.html"><img id="imghd" src="imgs/logox.png" alt="Logo RockWear"></a>
        <span id="hamburguer">☰</span>
      </div>
      <div class="head">
        <div class="pesqmob">
          <form action="/buscar" method="get">
            <input type="text" id="pesquisarmob" name="q" placeholder="Procure sua banda favorita">
          </form>
        </div>
      </div>

      <div id="overlay"></div>

      <div id="menumob2">
        <span id="fechar-menu">&times;</span>

        <div class="menumob3">
          <a href="checkout.html" class="cart-mobile-link">
            <img id="imgshd" src="imgs/iconcarrinho.png" alt="Carrinho">
            <span id="cartCountMobile">0</span>
          </a>
          <a href="usuario.html"><img id="imgshd" src="imgs/iconeperson.png" alt="Usuário"></a>
        </div>

        <a href="categorias.html">CATEGORIAS</a>
        <a href="plussize.html">+PLUS SIZE</a>
        <a href="infantil.html">INFANTIL</a>
      </div>
    </div>
  </header>
<DIV class="organizadora">
  <div class="checkout-container">
    <div class="checkout-form">
      <h2>FINALIZAR COMPRA</h2>
      <form id="checkout-form">
        <div class="form-section">
          <h3>Informações Pessoais</h3>
          <div class="form-group">
            <label for="name">Nome Completo </label>
            <input type="text" id="name" required>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="email">Email </label>
              <input type="email" id="email" required>
            </div>
            <div class="form-group">
              <label for="phone">Telefone </label>
              <input type="tel" id="phone" placeholder="(00) 00000-0000" required>
            </div>
          </div>
        </div>

        <div class="form-section">
          <h3>Endereço de Entrega</h3>
          <div class="form-group">
            <label for="address">Endereço </label>
            <input type="text" id="address" required>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="city">Cidade </label>
              <input type="text" id="city" required>
            </div>
            <div class="form-group">
              <label for="state">Estado *</label>
              <select id="state" required>
                <option value="">Selecione</option>
                <option value="SP">São Paulo</option>
                <option value="RJ">Rio de Janeiro</option>
                <option value="MG">Minas Gerais</option>
                <option value="RS">Rio Grande do Sul</option>
                <!-- ... restantes -->
              </select>
            </div>
          </div>
          <div class="form-group">
            <label for="zipcode">CEP </label>
            <input type="text" id="zipcode" placeholder="00000-000" required>
          </div>
        </div>

        <div class="form-section">
          <h3>Forma de Pagamento</h3>
          <div class="payment-methods">
            <div class="payment-method" data-method="credit_card"><i class="bi bi-credit-card"></i>Crédito</div>
            <div class="payment-method" data-method="debit_card"><i class="bi bi-credit-card-2-front"></i>Débito</div>
            <div class="payment-method" data-method="pix"><i class="bi bi-qr-code"></i>PIX</div>
            <div class="payment-method" data-method="boleto"><i class="bi bi-upc-scan"></i>Boleto</div>
          </div>

          <div id="card-details" style="display:none;">
            <div class="form-group">
              <label for="card-number">Número do Cartão </label>
              <input type="text" id="card-number" maxlength="19">
            </div>
            <div class="form-row">
              <div class="form-group">
                <label for="card-expiry">Validade </label>
                <input type="text" id="card-expiry" maxlength="5">
              </div>
              <div class="form-group">
                <label for="card-cvv">CVV </label>
                <input type="text" id="card-cvv" maxlength="3">
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>

    <div class="order-summary">
      <h2>RESUMO DO PEDIDO</h2>
      <div id="summary-items"></div>
      <div class="summary-total">
        <span>TOTAL:</span>
        <span id="summary-total">R$ 0,00</span>
      </div>
      <button class="btn-finalize" id="btn-finalize">FINALIZAR COMPRA</button>
    </div>
  </div>

  <div class="success-modal" id="success-modal">
    <div class="success-content">
      <div class="success-icon">✓</div>
      <h2>COMPRA REALIZADA COM SUCESSO!</h2>
      <p>Obrigado pela sua compra!</p>
      <div class="order-number">Pedido: <strong>#<span id="order-id"></span></strong></div>
      <button class="btn-back-home" onclick="window.location.href='index.html'">VOLTAR PARA HOME</button>
    </div>
  </div>
</DIV>

  <script>

    let selectedPaymentMethod = null;
    let cartItems = JSON.parse(localStorage.getItem('cart')) || [];

    document.querySelectorAll('.payment-method').forEach(method => {
      method.addEventListener('click', function () {
        document.querySelectorAll('.payment-method').forEach(m => m.classList.remove('active'));
        this.classList.add('active');
        selectedPaymentMethod = this.dataset.method;
        document.getElementById('card-details').style.display =
          (selectedPaymentMethod === 'credit_card' || selectedPaymentMethod === 'debit_card') ? 'block' : 'none';
      });
    });

    function loadCartSummary() {
      const summaryItems = document.getElementById('summary-items');
      let total = 0;
      summaryItems.innerHTML = '';
      cartItems.forEach(item => {
        const itemTotal = item.price * item.quantity;
        total += itemTotal;
        summaryItems.innerHTML += `
          <div class="summary-item">
            <span>${item.name} (${item.quantity}x)</span>
            <span>R$ ${itemTotal.toFixed(2).replace('.', ',')}</span>
          </div>`;
      });
      document.getElementById('summary-total').textContent = `R$ ${total.toFixed(2).replace('.', ',')}`;
    }
    loadCartSummary();

    document.getElementById('btn-finalize').addEventListener('click', () => {
      if (!selectedPaymentMethod) return alert('Selecione uma forma de pagamento!');
      document.getElementById('order-id').textContent = Math.random().toString(36).substr(2, 8).toUpperCase();
      document.getElementById('success-modal').style.display = 'flex';
      localStorage.removeItem('cart');
    });
  </script>
  </script>
  <footer>
    <div class="menuf">
      <div class="menuf1">
        <a href="informacoesdaempresa.html">INFORMAÇÕES DA EMPRESA</a>
        <a href="ajudaesuporte.html">AJUDA E SUPORTE</a>
      </div>
      <div class="menuf2">
        <p>ENCONTRE-NOS EM</p>
        <a href="http://" target="_blank" rel="noopener noreferrer"><img src="imgs/iconx.png" alt=""></a>
        <a href="http://" target="_blank" rel="noopener noreferrer"><img src="imgs/iconinsta.png" alt=""></a>
        <a href="http://" target="_blank" rel="noopener noreferrer"><img src="imgs/iconfb.png" alt=""></a>
        <img id="mao" src="imgs/logomaozinha.png" alt="">
      </div>
    </div>
  </footer>

</body>

</html>